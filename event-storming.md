# Event Storming

Дата: 05-01-2024

## Участники ##
1. Ведущий
2. Инженеры
3. Аналитики
4. Бизнес
5. Все кто участвует с создании предметной области продукта

## Средства для проведения сеанса ##
1. Длинная доска или длинная ровная стена
2. Стикеры разных цветов (оранжевые и синие в первую очередь)
3. Рулон 12мм белого бумажного скотча
4. Длинный рулон бумаги (IKEA Mala бумага)
5. Маркеры, на каждого участника сеанса

## Порядок работы ##

### Первый этап (30 минут = 100 заметок) ###
#### Определение событий в предметной области ####
1. Каждый берет по _оранжевому_ стикеру и маркеру
2. Записать на оранжевых стикерах ключевые события анализируемой области (по одному событию на стикере),
   выраженные глаголом в прощедщем времени
3. Разместить стикеры вдоль временной шкалы на бумаги
4. Более ранние левее, более позние правее, главное не зацикливатся на хронологии
5. Не надо согласовывать с другими участниками свои события

### Второй этап (30 - 60 минут) ###
#### Создание временной линии ####
1. Упорядочивать по времени с помощью ведущего
2. Удаляем дубликаты
3. Расставлять события в порядке сюжетной линии, если есть время
4. Противоречия зафиксировать стикиром разного цвета, обычно _фиолетового_, как спорные точки

### Третий этап (~60 минут)  ###
#### Обратное повествование и идентификация команд ####
1. Обратное повествование - проходим временную шкалу от конца в начало и определяем **команды** - действия, вызывающие события
2. Обозначить команды стикером, обычно _синего_ цвета
3. Фиксировать то что происходит в реальной жизни и не старатся сделать все красивым и аккуратным

### Четвертый этап (15 - 25 минут) ###
#### Определение агрегатов/ограниченных контекстов ####
1. _Команды_ не создают _события_ на прямую
2. Агрегаты - специальный типы предметных объектов и генерируют события
3. Перестраеваем наши команды и события
   1. Можно нарущать упорядоченность по времени, для группировки вокруг агрегат
   2. Событие запущенные этим агрегатом, поместить в него
4. Сгруппированны по агрегатам события и команды представляют собой кластеры, которые являются ограниченными контекстами

#### Ограниченные контексты ####
Являются _отправной точкой_ для определения оптимального микросевиса.  
Но границы микросервисов не всегда совподают с границами ограниченных контекство DDD или Event Storming.  
Проще разделить сервис, чем снова объединить несколько сервисов или перенести возможности из одного сервиса в другой.


### Пятый этап (~15 минут) ###
#### Конкурентный анализ - классифицировать различные контектсы по уровню их приоритетов ####
1. Создаем матрицу ограниченых контекстов/подобластей
2. Упорядочиваем по свойствам
   1. Сложность
   2. Конкуретное преимущество
3. В каждой категории успользуем **S, M, L** для упорядочивания

## Универсальная формула определения размера ##
1. начинайте с нескольких микросервисов
2. продолжайте процесс деления с ростом вашего преложения и сервисов, руководствуясь потребностями предотвращения координации.
3. придерживайтесь курс на снижения координации, это гораздо важнее, чем текущее понимание "идеального" размера сервиса